buildscript {
    repositories {
        maven { url 'https://maven.google.com' }
        jcenter()


    }

    dependencies {
        classpath 'com.android.tools.build:gradle:3.1.4'

    }
}

allprojects {
    repositories {
        maven { url 'https://maven.google.com' }
        jcenter()
        flatDir {
            dirs 'libs'
        }
        google()

    }
}

apply plugin: 'com.android.application'
android {
    compileSdkVersion 27
    buildToolsVersion "27.0.3"
    defaultConfig {
        applicationId 'com.scary.home.escape.craft'
        minSdkVersion 21
        targetSdkVersion 27
        versionCode 0
        multiDexEnabled true
    }
    Properties props = new Properties()
    props.load(new FileInputStream(file("local.properties")))
    if (props.getProperty("keystore") != null) {
        signingConfigs {
            release {
                storeFile file(props["keystore"])
                storePassword props["keystore.password"]
                keyAlias props["key"]
                keyPassword props["key.password"]
            }
        }

        buildTypes {
            release {
                minifyEnabled false
                proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'
                signingConfig signingConfigs.release
            }
        }
    }
// for multiple APKs
    splits {
        abi {
            enable true
            reset()
            include "armeabi-v7a", "x86"
        }
    }
    productFlavors {
    }
}

// build multiple APKs for all ABI
ext.abiCodes = ['armeabi-v7a': 1, x86: 2]
import com.android.build.OutputFile

android.applicationVariants.all { variant ->
    variant.outputs.each { output ->
        def baseAbiVersionCode =
                project.ext.abiCodes.get(output.getFilter(OutputFile.ABI))
        if (baseAbiVersionCode != null) {
            output.versionCodeOverride =
                    baseAbiVersionCode + variant.versionCode
        }
    }
}

dependencies {
    implementation 'com.android.support:support-compat:27.1.1'
    implementation 'com.android.support:appcompat-v7:27.1.1'
    implementation 'com.android.support:recyclerview-v7:27.1.1'
    implementation 'com.android.support:support-v4:27.1.1'
    implementation 'com.google.android.gms:play-services-ads:15.0.1'
    implementation 'com.google.android.gms:play-services-location:15.0.1'
    implementation 'com.squareup.picasso:picasso:2.5.2'
    implementation 'com.android.support:multidex:1.0.3'
    implementation name: 'adcolony-3.3.4', ext: 'aar'
    implementation name: 'mobvista-8.11.3-alphab', ext: 'aar'
    implementation name: 'mobvista-8.11.3-common', ext: 'aar'
    implementation name: 'mobvista-8.11.3-interstitial', ext: 'aar'
    implementation name: 'mobvista-8.11.3-interstitialvideo', ext: 'aar'
    implementation name: 'mobvista-8.11.3-mvdownloads', ext: 'aar'
    implementation name: 'mobvista-8.11.3-mvjscommon', ext: 'aar'
    implementation name: 'mobvista-8.11.3-mvnative', ext: 'aar'
    implementation name: 'mobvista-8.11.3-nativeex', ext: 'aar'
    implementation name: 'mobvista-8.11.3-playercommon', ext: 'aar'
    implementation name: 'mobvista-8.11.3-reward', ext: 'aar'
    implementation name: 'mobvista-8.11.3-videocommon', ext: 'aar'
    implementation name: 'mobvista-8.11.3-videofeeds', ext: 'aar'
    implementation name: 'mobvista-8.11.3-videojs', ext: 'aar'
    implementation name: 'ogury-3.0.13', ext: 'aar'
    implementation files('libs/appodeal-2.4.5.jar')
    implementation files('libs/flurry-ads-11.0.0.jar')
    implementation files('libs/flurry-analytics-11.0.0.jar')
    implementation files('libs/inmobi-7.1.1.jar')
    implementation files('libs/startapp-3.9.3.jar')
    implementation files('libs/yandex-metrica-2.80.jar')
    implementation 'com.google.code.gson:gson:2.4'
}
